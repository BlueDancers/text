# java-网络编程

UDP接收端 发送端

```java
//发送端
public class UDPsendDemo {
	public static void main(String[] args) throws IOException {
		System.out.println("------------------------发送端启动");
		/*
		 * 创建udp传输的发送端
		 * 思路:
		 * 	创建udp的socket服务
		 * 	将要发送的数据封装到数据包
		 * 	通过udp的的socket服务发送数据
		 * 	关闭服务
		 */
		DatagramSocket ds = new DatagramSocket(8888);
		String str = "udp传输来了";
		byte[] bytes = str.getBytes();
		//打包发送
		DatagramPacket dp = new DatagramPacket(bytes, bytes.length,InetAddress.getByName("127.0.0.1"),5000);
		ds.send(dp);
		ds.close();
	}
}
```

```java
//接收端
public class UDPreceDemo {

	public static void main(String[] args) throws IOException {
		System.out.println("------------------------------------接收端启动");
		/*
		 * UDP接收端思路
		 * 建立socket服务,因为要接受数据 所以要明确端口号
		 * 创建数据包,用于存储接收到的数据,方便解析数据
		 * 使用socket服务的receive将接收到的数据存储到数据包
		 * 通过数据包的方法解析数据包的数据
		 * 关闭资源
		 */
		
		DatagramSocket ds = new DatagramSocket(5000);
		
		byte[] bytes = new byte[1024];
		DatagramPacket dp = new DatagramPacket(bytes, bytes.length);
		//使用socket服务的receive将接收到的数据存储到数据包
		ds.receive(dp);    //阻塞式
		String ip = dp.getAddress().getHostAddress();
		int port = dp.getPort();
		String text = new String(dp.getData(),0,bytes.length);
		System.out.println(ip);
		System.out.println(port);
		System.out.println(text);
		ds.close();	
	}
}
```

